(this["webpackJsonpreact-psh-challenge"]=this["webpackJsonpreact-psh-challenge"]||[]).push([[0],{41:function(e,t,c){},42:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(16),s=c.n(n),a=c(2),o=c(1),i=c(0);function l(e){var t=Object(o.useState)(!1),c=Object(a.a)(t,2),n=c[0],s=c[1],l=Object(o.useState)(""),j=Object(a.a)(l,2),u={layoutType:j[0],loading:n,setLayoutType:j[1],setLoading:s};return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(r.Provider,{value:u,children:e.children})})}var r=Object(o.createContext)(),j=c(5),u=c(4);c(41),c(42);function d(e){var t=e.loadingText,c=void 0===t?"Cargando...":t,n=e.className,s=void 0===n?"":n;return Object(i.jsx)("div",{className:"psh-loading-area ".concat(s),children:Object(i.jsxs)("div",{className:"psh-loading-elements",children:[Object(i.jsx)("div",{className:"psh-loading-box offset-bottom-1",children:Object(i.jsxs)("div",{className:"lds-ring",children:[Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{})]})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("i",{className:"fa fa-spinner fa-spin"}),Object(i.jsx)("span",{className:"text--title4 text--color-light-blue-1000",children:c})]})]})})}function b(e){for(var t=[],c=Object(o.useState)(1),n=Object(a.a)(c,2),s=n[0],l=n[1],r=1;r<=Math.ceil(e.onTotalSeries/e.onSeriesPerPage);r++)t.push(r);function j(t){l(t),e.onChangePage(t)}return Object(i.jsx)("nav",{children:Object(i.jsx)("ul",{className:"pagination mt-4 pb-4 justify-content-end",children:t.at(-1)<10?t.map((function(t){return Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("a",{href:"#",className:"page-link",onClick:function(){return e.onChangePage(t)},children:t})},t)})):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("a",{href:"#",className:"page-link",onClick:function(){return j(1)},children:"1"})},1),s>3&&Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("div",{className:"page-link",children:"..."})},"threeDots1"),s===t.at(-1)&&Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("a",{href:"#",className:"page-link",onClick:function(){return j(s-2)},children:s-2})},s-2),s>2&&Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("a",{href:"#",className:"page-link",onClick:function(){return j(s-1)},children:s-1})},s-1),1!==s&&s!==t.at(-1)&&Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("a",{href:"#",className:"page-link",onClick:function(){return j(s)},children:s})},s),s<t.at(-1)-1&&Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("a",{href:"#",className:"page-link",onClick:function(){return j(s+1)},children:s+1})},s+1)," ",1===s&&Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("a",{href:"#",className:"page-link",onClick:function(){return j(s+2)},children:s+2})},s+2),s<t.at(-1)-2&&Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("div",{className:"page-link",children:"..."})},"threeDots2"),t.at(-1)>1&&Object(i.jsx)("li",{className:"page-item",children:Object(i.jsx)("a",{href:"#",className:"page-link",onClick:function(){return j(t.at(-1))},children:t.at(-1)})},t.at(-1))]})})})}function m(e,t){return console.log(e),"string"===typeof t?null===e||void 0===e?void 0:e.sort((function(e,c){return e[t]>c[t]?1:e[t]<c[t]?-1:0})):e.sort()}var h=c(13),O=c.n(h),x=(O.a.CancelToken.source(),function(e,t){return{async:!0,crossDomain:!0,method:"get",url:"https://web-series-quotes-api.deta.dev"+e,data:{name:e,args:t,session:null}}}),f={getTVSeries:function(){return O()(x("/series"))},getQuotesBySeries:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return O()(x("/quote/?series=".concat(e,"&all=").concat(t)))},getRandomQuotes:function(){return O()(x("/all"))}},p=f;var g=c(10);function v(e){var t=e.onSeries;return Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("div",{className:"row justify-content-between",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(i.jsx)("a",{className:"psh-card psh-card--type-1 psh-card--type-2 col-12 col-xl-2 d-flex align-items-center justify-content-center text--center xxs-offset-bottom-1 lg-offset-bottom-0",href:"/".concat(e.value.replaceAll(" ","_").toLowerCase(),"/quotes"),children:e.value},t)}))})})}var N=c(22),y=c(18),S=c(15),C=function(e){var t=e.className,c=void 0===t?"":t,n=e.children,l=void 0===n?"":n,r=e.show,j=void 0!==r&&r,u=e.defaultClose,d=void 0===u||u,b=e.onHide,m=void 0===b||b,h=e.closeOuter,O=void 0!==h&&h,x=Object(o.useState)(!1),f=Object(a.a)(x,2),p=f[0],g=f[1],v=Object(o.useState)(!1),N=Object(a.a)(v,2),y=N[0],S=N[1],C=Object(o.useState)(!1),k=Object(a.a)(C,2),T=k[0],w=k[1],_=function(){w(!1);var e=setTimeout((function(){S(!1),g(!1),m(!1),clearTimeout(e)}),500)};Object(o.useEffect)((function(){var e,t;return p||j?(S(!0),e=setTimeout((function(){w(!0),clearTimeout(e)}),100)):(w(!1),t=setTimeout((function(){S(!1),clearTimeout(t)}),600)),function(){clearTimeout(e),clearTimeout(t)}}),[p,j]);return Object(i.jsx)(i.Fragment,{children:y&&s.a.createPortal(Object(i.jsxs)("div",{className:"psh-modal ".concat(T?"active":""," ").concat(c),children:[Object(i.jsx)("div",{className:"psh-modal__box",children:Object(i.jsxs)("div",{className:"psh-modal__cont",children:[d&&Object(i.jsx)("div",{children:Object(i.jsx)("button",{className:"psh-modal__close-button",type:"button",onClick:_,children:Object(i.jsx)("span",{children:Object(i.jsx)("i",{className:"icon--close"})})})}),l]})}),O&&Object(i.jsx)("div",{className:"psh-modal__button-close-outer",onClick:_})]}),document.querySelector("body"))})},k=c.p+"static/media/logo_red_psh.61bf83dc.svg";function T(e){var t=Object(o.useState)(!1),c=Object(a.a)(t,2),n=c[0],s=c[1],l=Object(o.useState)({id:0,value:"",img:null}),r=Object(a.a)(l,2),j=r[0],u=r[1];function d(){e.onClose(),s(!1)}function b(e){var t=e.target,c=t.name,n=t.value;u((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(y.a)({},c,n.replaceAll(" ","_")))}))}return Object(o.useEffect)((function(){e&&(s(e.onOpen),u((function(t){return Object(S.a)(Object(S.a)({},t),{},{id:e.onCount})})))}),[e]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(C,{show:n,onHide:d,className:"psh-modal--md",children:Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsxs)("div",{className:"col-md-10",children:[Object(i.jsx)("h4",{className:"text--title2 text--center",children:Object(i.jsx)("strong",{children:"Add New Series"})}),Object(i.jsx)("div",{className:"text--center mt-4",children:Object(i.jsx)("p",{className:"text--color-dark-blue-800 text--title3",children:"This form'll guide you to add your own favorite series"})}),Object(i.jsxs)("div",{className:"d-flex align-items-center mt-4 offset-bottom-2",children:[Object(i.jsx)("p",{className:"text--color-dark-blue-800 text--title3 mr-1",children:"Tilte:"}),Object(i.jsx)("input",{className:"form-control",name:"value",type:"text",placeholder:"Breaking Bad","aria-label":"text",value:j.value,onChange:b})]}),Object(i.jsxs)("div",{className:"d-flex align-items-center mt-4 offset-bottom-2",children:[Object(i.jsx)("p",{className:"text--color-dark-blue-800 text--title3 mr-1",children:"Image:"}),Object(i.jsx)("input",{className:"form-control",name:"img",type:"file",id:"formFile",value:j.image,onChange:b})]}),Object(i.jsxs)("div",{className:"row justify-content-center flex-column-reverse flex-md-row offset-top-3",children:[Object(i.jsx)("div",{className:"col-md-6",children:Object(i.jsx)("button",{type:"button",className:"btn btn--outline full",onClick:function(){return d()},children:"Volver"})}),Object(i.jsx)("div",{className:"col-md-6 mb-4 mb-md-0",children:Object(i.jsx)("button",{type:"button",className:"btn btn--secondary full",onClick:function(){var t=JSON.parse(localStorage.getItem("series"))||[];try{t.push(j),localStorage.setItem("series",JSON.stringify(t))}catch(c){console.log(c)}finally{e.onNewSeries(t)}},disabled:!j.value,children:"Confirmar"})})]})]})})})})}var w=[{path:"/home",mini:"H",component:function(){var e=Object(o.useContext)(r),t=e.setLayoutType,c=e.setLoading,n=Object(o.useState)([]),s=Object(a.a)(n,2),l=s[0],j=s[1],u=Object(o.useState)(1),d=Object(a.a)(u,2),h=d[0],O=d[1],x=Object(o.useState)(5),f=Object(a.a)(x,1)[0],y=Object(o.useState)(!1),S=Object(a.a)(y,2),C=S[0],k=S[1],w=Object(o.useState)(""),_=Object(a.a)(w,2),P=_[0],Q=_[1],q=Object(o.useState)([]),F=Object(a.a)(q,2),L=F[0],A=F[1],E=Object(o.useState)(!1),R=Object(a.a)(E,2),I=R[0],B=R[1],H=h*f,J=H-f,D=L.slice(J,H);return Object(o.useEffect)((function(){t("psh-main-layout--default"),c(!0),p.getTVSeries().then((function(e){var t=[];e.data.map((function(e,c){t.push({id:c,value:e.replaceAll("_"," ").toUpperCase()})}));var c=JSON.parse(localStorage.getItem("series"))||[];j([].concat(t,Object(g.a)(c))),A([].concat(t,Object(g.a)(c)))})).catch((function(e){console.log(e)})).finally((function(){c(!1)}))}),[]),Object(o.useEffect)((function(){!function(){var e=Object(N.a)(l,P,{keys:[""===P?"id":"value"],threshold:N.a.rankings.WORD_STARTS_WITH});A(e)}()}),[P]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(T,{onOpen:I,onCount:l.length,onClose:function(){return B(!1)},onNewSeries:function(e){return t=e,console.log(t),j([].concat(Object(g.a)(l),Object(g.a)(t))),void A([].concat(Object(g.a)(l),Object(g.a)(t)));var t}}),Object(i.jsxs)("div",{className:"container pt-5",children:[Object(i.jsx)("h1",{className:"h2 text--center text--secondary xxs-offset-bottom-2",children:"Series List"}),Object(i.jsx)("p",{className:"text--center text--primary text--title2 xxs-offset-bottom-5",children:"Here you'll find a list of selectable series to show super duper famous quotes"}),Object(i.jsx)("div",{className:"d-flex justify-content-end xxs-offset-bottom-3",children:Object(i.jsx)("button",{className:"btn btn--primary",onClick:function(){return B(!0)},children:"+ Add"})}),Object(i.jsxs)("div",{className:"d-flex flex-column flex-md-row justify-content-between xxs-offset-bottom-5",children:[Object(i.jsx)("input",{className:"form-control col-md-4 col-lg-3 xxs-offset-bottom-2 sm-offset-bottom-0",type:"search",placeholder:"Search","aria-label":"Search",value:P,onChange:function(e){var t=e.target.value,c=[{id:"all",value:t}];Q(t),A(c)}}),Object(i.jsx)("button",{className:"btn btn--secondary",onClick:function(){Q(""),A(m(l,C?"id":"value")),k(!C)},children:C?"Reset order":"Sort Alphabeticaly"})]}),Object(i.jsx)(v,{onSeries:D}),Object(i.jsx)(b,{onSeriesPerPage:f,onTotalSeries:L.length,onChangePage:function(e){return O(e)}})]})]})},layout:"/site",layoutType:"default"},{path:"/:series/quotes",mini:"Q",component:function(){var e=window.location.pathname,t=e.substring(e.indexOf("/",0)+1).split("/")[0],c=Object(o.useContext)(r),n=c.setLayoutType,s=c.setLoading,l=t.replaceAll("_"," ").toUpperCase()||"Series",j=Object(o.useState)([]),u=Object(a.a)(j,2),d=u[0],h=u[1],O=Object(o.useState)(10),x=Object(a.a)(O,1)[0],f=Object(o.useState)(1),g=Object(a.a)(f,2),v=g[0],N=g[1],y=v*x,S=y-x,C=d.slice(S,y);return Object(o.useEffect)((function(){n("psh-main-layout--default"),s(!0),console.log(t),p.getQuotesBySeries(t).then((function(e){h(m(e.data,"author"))})).catch((function(e){console.log(e)})).finally((function(){s(!1)}))}),[]),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsxs)("h2",{className:"h4 text--primary pt-3",children:["Famous ",Object(i.jsx)("span",{className:"text--secondary",children:l})," Quotes"]}),Object(i.jsx)("ul",{className:"list-group",children:null===C||void 0===C?void 0:C.map((function(e,t){return Object(i.jsxs)("li",{className:"list-group-item",children:[e.author&&Object(i.jsx)("strong",{children:"".concat(e.author,": ")}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Quote ".concat(e.id," - ")}),Object(i.jsx)("span",{children:"".concat(e.quote)})]})]},t)}))}),Object(i.jsx)(b,{onSeriesPerPage:x,onTotalSeries:d.length,onChangePage:function(e){return N(e)}})]})},layout:"/site",layoutType:"default"},{path:"/quotes",mini:"RQ",component:function(e){var t=Object(o.useContext)(r),c=t.setLayoutType,n=t.setLoading,s=Object(o.useState)([]),l=Object(a.a)(s,2),j=l[0],u=l[1],d=Object(o.useState)(10),h=Object(a.a)(d,1)[0],O=Object(o.useState)(1),x=Object(a.a)(O,2),f=x[0],g=x[1],v=f*h,N=v-h,y=j.slice(N,v);return Object(o.useEffect)((function(){c("psh-main-layout--default"),n(!0),p.getRandomQuotes().then((function(e){u(m(e.data,"author"))})).catch((function(e){console.log(e)})).finally((function(){n(!1)}))}),[]),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h2",{className:"h4 text--primary pt-3",children:"Famous Random Series Quotes"}),Object(i.jsx)("ul",{className:"list-group",children:null===y||void 0===y?void 0:y.map((function(e,t){return Object(i.jsxs)("li",{className:"list-group-item",children:[e.author&&Object(i.jsx)("strong",{children:"".concat(e.author,": ")}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Quote ".concat(e.id," - ")}),Object(i.jsx)("span",{children:"".concat(e.quote)})]})]},t)}))}),Object(i.jsx)(b,{onSeriesPerPage:h,onTotalSeries:j.length,onChangePage:function(e){return g(e)}})]})},layout:"/site",layoutType:"default"}],_=c(34),P=function(e){var t=e.extOpenMobileMenu,c=void 0!==t&&t,n=Object(o.useState)(!1),s=Object(a.a)(n,2),l=s[0],r=s[1],j=Object(o.useState)(!0),u=Object(a.a)(j,2),d=u[0],b=u[1];Object(o.useEffect)((function(){c&&(b(!1),setTimeout((function(){r(!0)}),100))}),[c]);var m=function(){r(!1),setTimeout((function(){b(!0)}),300)};return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("header",{className:"psh-header ".concat(l&&"mobile-menu-is-opened"," ").concat(d&&"mobile-menu-overlay-is-removed"),children:[Object(i.jsxs)("div",{className:"container d-flex justify-content-between align-items-center",children:[Object(i.jsxs)("div",{className:"d-flex align-items-center",children:[Object(i.jsx)("button",{type:"button",className:"psh-hamburger",onClick:function(){b(!1),c&&c(!1),setTimeout((function(){r(!0)}),100)},children:Object(i.jsx)("i",{className:"icon ".concat(l?"close":"")})}),Object(i.jsx)(_.a,{to:"/home",className:"psh-main-logo",children:Object(i.jsx)("img",{src:k,alt:"psh company logo"})})]}),Object(i.jsx)("nav",{children:Object(i.jsx)("div",{className:"psh-to-mobile-menu ".concat(l?"active":""),children:Object(i.jsxs)("ul",{className:"d-flex align-items-center",children:[Object(i.jsx)("li",{className:"md--only psh-back-menu-area",children:Object(i.jsx)("button",{type:"button",className:"btn btn--back btn--back--main",onClick:m,children:Object(i.jsx)("i",{className:"icon--arrow-full"})})}),Object(i.jsx)("li",{className:"mobile-order-1 mobile-divider",children:Object(i.jsxs)("a",{href:"/home",target:"_self",rel:"noreferrer",children:[Object(i.jsx)("span",{className:"psh-circle psh-circle--mobile-header md--only",children:Object(i.jsx)("i",{className:"icon icon--shield"})}),Object(i.jsx)("strong",{children:"Series"})]})}),Object(i.jsx)("li",{className:"mobile-order-1 mobile-divider",children:Object(i.jsxs)("a",{href:"/quotes",target:"_self",rel:"noreferrer",children:[Object(i.jsx)("span",{className:"psh-circle psh-circle--mobile-header md--only",children:Object(i.jsx)("i",{className:"icon icon--shield"})}),Object(i.jsx)("strong",{children:"Quotes"})]})})]})})})]}),Object(i.jsx)("button",{type:"button",className:"psh-header__close-overlay",onClick:m})]})})};function Q(e){var t=Object(o.useContext)(r),c=t.loading,n=t.layoutType;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"psh-main-layout ".concat(n),children:[Object(i.jsx)(P,{}),Object(i.jsxs)(u.d,{history:e.history,children:[w.map((function(t,c){return"/site"===t.layout?Object(i.jsx)(u.b,{exact:!0,history:e.history,basename:"foobar",path:t.path,render:function(e){return Object(i.jsx)(t.component,{})}},"route-".concat(c)):null})),Object(i.jsx)(u.a,{from:"/",to:"/home"})]})]}),c&&Object(i.jsx)(d,{})]})}var q=Object(j.a)();function F(e){return Object(i.jsx)(l,{children:Object(i.jsx)(u.c,{history:q,children:Object(i.jsxs)(u.d,{children:[Object(i.jsx)(u.b,{path:"/",component:Q}),Object(i.jsx)(u.a,{from:"/",to:"/home"})]})})})}s.a.render(Object(i.jsx)(F,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.64fbb6b3.chunk.js.map